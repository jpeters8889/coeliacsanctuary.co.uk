(self.webpackChunk=self.webpackChunk||[]).push([[6372],{1855:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});const o={components:{"form-input":function(){return Promise.all([a.e(931),a.e(876)]).then(a.bind(a,511))},"form-select":function(){return Promise.all([a.e(931),a.e(5723)]).then(a.bind(a,2460))},"form-textarea":function(){return Promise.all([a.e(931),a.e(1850)]).then(a.bind(a,6631))}},data:function(){return{formData:{name:"",state:"add",comment:""},validity:{name:!1,state:!0,comment:!1},stateOptions:[{value:"add",label:"Add"},{value:"remove",label:"Remove"}]}},mounted:function(){var t=this;Object.keys(this.validity).forEach((function(e){t.$root.$on("".concat(e,"-error"),(function(){t.validity[e]=!1})),t.$root.$on("".concat(e,"-valid"),(function(){t.validity[e]=!0})),t.$root.$on("".concat(e,"-value"),(function(a){t.formData[e]=a}))}))},methods:{submitForm:function(){var t=this;this.validateForm()&&coeliac().request().post("/api/wheretoeat/place-request",{name:this.formData.name,state:this.formData.state,comment:this.formData.comment}).then((function(e){if(200===e.status)return Object.keys(t.validity).forEach((function(e){t.formData[e]="",t.$root.$emit("".concat(e,"-reset"))})),void coeliac().success("Thank you for your request, we'll check it out and add them to our eating out guide!");coeliac().error("Sorry, there was an error submitting your request, please try again.")})).catch((function(){coeliac().error("Sorry, there was an error submitting your request, please try again.")}))},validateForm:function(){var t=this;Object.keys(this.validity).forEach((function(e){t.$root.$emit("".concat(e,"-get-value"))}));var e=!0;return Object.keys(this.validity).forEach((function(a){!1===t.validity[a]&&(e=!1)})),e}}};const r=(0,a(1900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex mt-2 flex-col"},[a("div",{staticClass:"mb-5 flex-1"},[a("form-input",{attrs:{required:"",name:"name",value:t.formData.name,placeholder:"Your name..."}})],1),t._v(" "),a("div",{staticClass:"mb-5 flex-1"},[a("form-select",{attrs:{required:"",name:"state",value:t.formData.state,options:t.stateOptions}})],1),t._v(" "),a("div",{staticClass:"mb-5 flex-1"},[a("form-textarea",{attrs:{required:"",name:"comment",value:t.formData.comment,rows:10,placeholder:"Your comment..."}})],1)]),t._v(" "),a("button",{staticClass:"mt-2 bg-blue-50 border border-blue rounded-lg px-6 py-2 text-xl text-black transition-bg hover:bg-blue-20",on:{click:function(e){return e.preventDefault(),t.submitForm()}}},[t._v("\n        Submit Comment\n    ")])])}),[],!1,null,null,null).exports}}]);