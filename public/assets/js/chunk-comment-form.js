(self.webpackChunk=self.webpackChunk||[]).push([[302],{578:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const a={components:{"form-input":function(){return Promise.all([r.e(5816),r.e(1531)]).then(r.bind(r,1254))},"form-textarea":function(){return Promise.all([r.e(5816),r.e(993)]).then(r.bind(r,1448))}},props:{area:{type:String,required:!0},id:{type:Number,required:!0}},data:function(){return{formData:{name:"",email:"",comment:""},validity:{name:!1,email:!1,comment:!1}}},mounted:function(){var t=this;Object.keys(this.validity).forEach((function(e){t.$root.$on("".concat(e,"-error"),(function(){t.validity[e]=!1})),t.$root.$on("".concat(e,"-valid"),(function(){t.validity[e]=!0})),t.$root.$on("".concat(e,"-value"),(function(r){t.formData[e]=r}))}))},methods:{submitForm:function(){var t=this;this.validateForm()&&coeliac().request().post("/api/comments",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({area:this.area,id:this.id},this.formData)).then((function(e){if(200===e.status)return Object.keys(t.validity).forEach((function(e){t.formData[e]="",t.$root.$emit("".concat(e,"-reset"))})),void coeliac().success("Thanks, your comment has been submitted and is awaiting approval!");coeliac().error("Sorry, there was an error submitting your comment, please try again.")}))},validateForm:function(){var t=this;Object.keys(this.validity).forEach((function(e){t.$root.$emit("".concat(e,"-get-value"))}));var e=!0;return Object.keys(this.validity).forEach((function(r){!1===t.validity[r]&&(e=!1)})),e}}};const i=(0,r(1900).Z)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-box p-3 mt-3"},[r("h2",{staticClass:"text-2xl my-2 font-semibold font-coeliac"},[t._v("Submit a Comment")]),t._v(" "),r("p",[t._v("Want to leave a comment on this "+t._s(t.area)+"? Feel free to join the discussion!")]),t._v(" "),r("div",{staticClass:"flex mt-2 flex-col"},[r("div",{staticClass:"mb-5 flex-1"},[r("form-input",{attrs:{required:"",name:"name",value:t.formData.name,placeholder:"Your name..."}})],1),t._v(" "),r("div",{staticClass:"mb-5 flex-1"},[r("form-input",{attrs:{required:"",name:"email",type:"email",value:t.formData.email,placeholder:"Your email..."}})],1),t._v(" "),r("div",{staticClass:"mb-5 flex-1"},[r("form-textarea",{attrs:{required:"",name:"comment",value:t.formData.comment,rows:10,placeholder:"Your comment..."}})],1)]),t._v(" "),r("p",{staticClass:"-mt-2 text-sm italic"},[t._v("\n        Note, your email address will never be displayed with your comment, it is only\n        required to alert you when your comment has been approved or if the Coeliac Sanctuary team reply to your\n        comment.\n    ")]),t._v(" "),r("button",{staticClass:"mt-2 bg-blue-50 border border-blue rounded-lg px-6 py-2 text-xl text-black transition-bg hover:bg-blue-20",on:{click:function(e){return e.preventDefault(),t.submitForm()}}},[t._v("\n        Submit Comment\n    ")])])}),[],!1,null,null,null).exports},1900:(t,e,r)=>{"use strict";function n(t,e,r,n,o,a,i,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var m=l.beforeCreate;l.beforeCreate=m?[].concat(m,c):[c]}return{exports:t,options:l}}r.d(e,{Z:()=>n})}}]);