(self.webpackChunk=self.webpackChunk||[]).push([[2163],{3923:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(7484),r=n.n(i);const o={methods:{formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"D MMMM YYYY";return r()(t).format(e)}}}},7484:function(t){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",r="day",o="week",s="month",a="quarter",c="year",l="date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},m={s:h,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+h(i,2,"0")+":"+h(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,s),o=n-r<0,a=e.clone().add(i+(o?-1:1),s);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:s,y:c,w:o,d:r,D:l,h:i,m:n,s:e,ms:t,Q:a}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p="en",v={};v[p]=f;var g=function(t){return t instanceof k},b=function(t,e,n){var i;if(!t)return p;if("string"==typeof t)v[t]&&(i=t),e&&(v[t]=e,i=t);else{var r=t.name;v[r]=t,i=r}return!n&&i&&(p=i),i||!n&&p},$=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new k(n)},y=m;y.l=b,y.i=g,y.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var k=function(){function f(t){this.$L=b(t.locale,null,!0),this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(u);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return y},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=$(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return $(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<$(t)},h.$g=function(t,e,n){return y.u(t)?this[e]:this.set(n,t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,a){var u=this,d=!!y.u(a)||a,f=y.p(t),h=function(t,e){var n=y.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return d?n:n.endOf(r)},m=function(t,e){return y.w(u.toDate()[t].apply(u.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},p=this.$W,v=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case c:return d?h(1,0):h(31,11);case s:return d?h(1,v):h(0,v+1);case o:var $=this.$locale().weekStart||0,k=(p<$?p+7:p)-$;return h(d?g-k:g+(6-k),v);case r:case l:return m(b+"Hours",0);case i:return m(b+"Minutes",1);case n:return m(b+"Seconds",2);case e:return m(b+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(o,a){var u,d=y.p(o),f="set"+(this.$u?"UTC":""),h=(u={},u[r]=f+"Date",u[l]=f+"Date",u[s]=f+"Month",u[c]=f+"FullYear",u[i]=f+"Hours",u[n]=f+"Minutes",u[e]=f+"Seconds",u[t]=f+"Milliseconds",u)[d],m=d===r?this.$D+(a-this.$W):a;if(d===s||d===c){var p=this.clone().set(l,1);p.$d[h](m),p.init(),this.$d=p.set(l,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[y.p(t)]()},h.add=function(t,a){var l,u=this;t=Number(t);var d=y.p(a),f=function(e){var n=$(u);return y.w(n.date(n.date()+Math.round(e*t)),u)};if(d===s)return this.set(s,this.$M+t);if(d===c)return this.set(c,this.$y+t);if(d===r)return f(1);if(d===o)return f(7);var h=(l={},l[n]=6e4,l[i]=36e5,l[e]=1e3,l)[d]||1,m=this.$d.getTime()+t*h;return y.w(m,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=y.z(this),r=this.$locale(),o=this.$H,s=this.$m,a=this.$M,c=r.weekdays,l=r.months,u=function(t,i,r,o){return t&&(t[i]||t(e,n))||r[i].substr(0,o)},f=function(t){return y.s(o%12||12,t,"0")},h=r.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:y.s(a+1,2,"0"),MMM:u(r.monthsShort,a,l,3),MMMM:u(l,a),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:u(r.weekdaysMin,this.$W,c,2),ddd:u(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:y.s(o,2,"0"),h:f(1),hh:f(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:y.s(s,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:i};return n.replace(d,(function(t,e){return e||m[t]||i.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,l,u){var d,f=y.p(l),h=$(t),m=6e4*(h.utcOffset()-this.utcOffset()),p=this-h,v=y.m(this,h);return v=(d={},d[c]=v/12,d[s]=v,d[a]=v/3,d[o]=(p-m)/6048e5,d[r]=(p-m)/864e5,d[i]=p/36e5,d[n]=p/6e4,d[e]=p/1e3,d)[f]||p,u?v:y.a(v)},h.daysInMonth=function(){return this.endOf(s).$D},h.$locale=function(){return v[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=b(t,e,!0);return i&&(n.$L=i),n},h.clone=function(){return y.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),_=k.prototype;return $.prototype=_,[["$ms",t],["$s",e],["$m",n],["$H",i],["$W",r],["$M",s],["$y",c],["$D",l]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,k,$),t.$i=!0),$},$.locale=b,$.isDayjs=g,$.unix=function(t){return $(1e3*t)},$.en=v[p],$.Ls=v,$.p={},$}()},9062:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const i={mixins:[n(3923).Z],components:{loader:function(){return n.e(8540).then(n.bind(n,1337))},"form-input":function(){return Promise.all([n.e(5816),n.e(1531)]).then(n.bind(n,8316))},modal:function(){return n.e(5441).then(n.bind(n,3516))}},data:function(){return{isLoading:!0,scrapbooks:[],scrapbookItems:[],viewScrapbook:null,isHoveringOn:null,isEditing:null,isAdding:!1,editingName:"",addingName:"",confirmDelete:null}},mounted:function(){var t=this;this.loadScrapbooks(),this.$root.$on("modal-closed",(function(e){"delete-scrapbook"===e&&(t.confirmDelete=null),"view-scrapbook"===e&&(t.viewScrapbook=null,t.loadScrapbooks())}))},methods:{loadScrapbooks:function(){var t=this;coeliac().request().get("/api/member/dashboard/scrapbooks").then((function(e){t.scrapbooks=e.data})).catch((function(){})).finally((function(){t.isLoading=!1}))},triggerAddScrapbook:function(){var t=this;this.isAdding=!0,this.$root.$on("add-name-change",(function(e){t.addingName=e}))},addScrapbook:function(){var t=this;""!==this.addingName?coeliac().request().post("/api/member/dashboard/scrapbooks",{name:this.addingName}).then((function(){t.loadScrapbooks(),coeliac().success("Scrapbook Updated")})).catch((function(){coeliac().error("There was an error adding your scrapbook")})).finally((function(){t.isAdding=!1,t.addingName=""})):coeliac().error("Please enter a name for your new scrapbook")},editTitle:function(t){var e=this;this.editingName=t.name,this.isEditing=t.id,coeliac().$emit("editing-name-set-value",this.editingName),this.$root.$on("editing-name-change",(function(t){e.editingName=t}))},updateTitle:function(){var t=this;if(this.isEditing){if(""===this.editingName)return this.isEditing=null,void(this.editingName=null);this.isLoading=!0,coeliac().request().patch("/api/member/dashboard/scrapbooks/".concat(this.isEditing),{name:this.editingName}).then((function(){t.loadScrapbooks(),coeliac().success("Scrapbook Updated")})).catch((function(){coeliac().error("There was an error updating your scrapbook")})).finally((function(){t.isEditing=null,t.editingName=null}))}},deleteScrapbook:function(){var t=this;coeliac().request().delete("/api/member/dashboard/scrapbooks/".concat(this.confirmDelete)).then((function(){t.loadScrapbooks(),coeliac().success("Scrapbook Deleted")})).catch((function(){coeliac().error("There was an error removing your scrapbook")})).finally((function(){t.confirmDelete=null}))},getScrapbookItems:function(){var t=this;coeliac().request().get("/api/member/dashboard/scrapbooks/".concat(this.viewScrapbook.id)).then((function(e){t.scrapbookItems=e.data})).catch((function(){coeliac().error("There was an error opening this scrapbook"),t.viewScrapbook=null}))},removeItem:function(t){var e=this;coeliac().request().delete("/api/member/dashboard/scrapbooks/".concat(this.viewScrapbook.id,"/").concat(t)).then((function(){e.getScrapbookItems()})).catch((function(){coeliac().error("There was an error removing this item from your scrapbook")}))}},watch:{viewScrapbook:function(){this.viewScrapbook?this.getScrapbookItems():this.scrapbookItems=[]}}};const r=(0,n(1900).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("div",{staticClass:"relative w-full h-32"},[n("loader",{attrs:{show:!0}})],1):n("div",{staticClass:"mt-2 flex flex-col space-y-2 sm:flex-wrap sm:flex-row justify-between sm:-mx-1"},[n("div",{staticClass:"bg-blue-gradient-30 rounded p-2 flex flex-col w-full sm:mx-1"},[n("strong",{staticClass:"block font-semibold text-lg flex items-center cursor-pointer hover:underline",on:{click:function(e){return t.triggerAddScrapbook()}}},[t._v("\n                Create new Scrapbook\n            ")]),t._v(" "),t.isAdding?n("div",{staticClass:"flex"},[n("form-input",{staticClass:"flex-1",attrs:{small:"",name:"add-name",value:t.addingName,placeholder:"Scrapbook Name"}}),t._v(" "),n("a",{staticClass:"ml-2 flex items-center leading-none bg-yellow text-sm rounded py-1 px-3 cursor-pointer hover:bg-yellow-light transition-bg",on:{click:function(e){return t.addScrapbook()}}},[t._v("\n                    Add\n                ")])],1):t._e()]),t._v(" "),t._l(t.scrapbooks,(function(e){return n("div",{staticClass:"sm:w-1/2 sm:px-1",on:{mouseenter:function(n){t.isHoveringOn=e.id},mouseleave:function(e){t.isHoveringOn=null}}},[n("div",{staticClass:"bg-blue-gradient-30 rounded p-2 flex",on:{click:function(n){if(n.stopPropagation(),n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)return null;t.viewScrapbook=e}}},[n("div",{staticClass:"flex-1 flex flex-col"},[n("strong",{staticClass:"font-semibold text-lg flex items-center"},[e.id===t.isEditing?n("div",{staticClass:"flex"},[n("form-input",{attrs:{small:"",name:"editing-name",value:t.editingName}}),t._v(" "),n("a",{staticClass:"ml-2 flex items-center leading-none bg-yellow text-sm rounded py-1 px-3 cursor-pointer hover:bg-yellow-light transition-bg",on:{click:function(e){return e.stopPropagation(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.updateTitle()}}},[t._v("\n                                Update\n                            ")])],1):[t._v("\n                            "+t._s(e.name)+"\n                            "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.isHoveringOn===e.id,expression:"isHoveringOn === scrapbook.id"}],staticClass:"text-grey-off hover:text-grey-dark cursor-pointer text-base pl-2"},[n("font-awesome-icon",{attrs:{icon:["fas","pen"]},on:{click:function(n){return n.stopPropagation(),n.ctrlKey||n.shiftKey||n.altKey||n.metaKey?null:t.editTitle(e)}}})],1)]],2),t._v(" "),n("span",[t._v(t._s(e.items_count)+" items.")])]),t._v(" "),t.scrapbooks.length>1?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isHoveringOn===e.id,expression:"isHoveringOn === scrapbook.id"}],staticClass:"text-2xl text-right text-grey-off hover:text-grey-dark cursor-pointer transition-colour"},[n("font-awesome-icon",{attrs:{icon:["far","trash-alt"]},on:{click:function(n){if(n.stopPropagation(),n.ctrlKey||n.shiftKey||n.altKey||n.metaKey)return null;t.confirmDelete=e.id}}})],1):t._e()])])}))],2),t._v(" "),t.viewScrapbook?n("portal",{attrs:{to:"modal"}},[n("modal",{attrs:{"modal-classes":"w-full",name:"view-scrapbook"}},[n("h2",{staticClass:"text-xl font-semibold text-center mb-2"},[t._v("\n                "+t._s(t.viewScrapbook.name)+"\n            ")]),t._v(" "),n("div",{staticClass:"w-full min-h-map"},[0===t.scrapbookItems.length?n("loader",{attrs:{show:!0}}):n("div",{staticClass:"flex flex-col space-y-4"},t._l(t.scrapbookItems,(function(e){return n("div",{key:e.id,staticClass:"flex flex-col bg-blue-gradient-50 rounded-lg md:flex-row"},[n("a",{staticClass:"md:w-1/3 md:p-1",attrs:{href:e.item.link,target:"_blank"}},[n("img",{staticClass:"rounded-t-lg md:rounded-lg",attrs:{src:e.item.image,alt:e.item.title}})]),t._v(" "),n("div",{staticClass:"p-2 flex-1 md:p-1"},[n("a",{attrs:{href:e.item.link,target:"_blank"}},[n("h2",{staticClass:"text-lg font-semibold hover:text-blue-dark transition-colour md:leading-none"},[t._v("\n                                    "+t._s(e.item.area)+" - "+t._s(e.item.title)+"\n                                ")])]),t._v(" "),n("p",{domProps:{innerHTML:t._s(e.item.description)}}),t._v(" "),n("div",{staticClass:"mt-2 flex justify-between text-sm"},[n("p",[t._v("\n                                    Added "+t._s(t.formatDate(e.added))+"\n                                ")]),t._v(" "),n("a",{staticClass:"font-semibold hover:text-blue-dark transition-bg cursor-pointer",on:{click:function(n){return t.removeItem(e.id)}}},[t._v("\n                                    Remove\n                                ")])])])])})),0)],1)])],1):t._e(),t._v(" "),t.confirmDelete?n("portal",{attrs:{to:"modal"}},[n("modal",{attrs:{small:"",name:"delete-scrapbook"}},[n("p",[t._v("Are you sure you want to delete this scrapbook? Any items saved will be lost.")]),t._v(" "),n("div",{staticClass:"flex space-x-4 justify-center mt-2"},[n("a",{staticClass:"rounded leading-none px-4 py-2 bg-blue hover:bg-blue-light hover:shadow cursor-pointer",on:{click:function(e){t.confirmDelete=null}}},[t._v("\n                    No\n                ")]),t._v(" "),n("a",{staticClass:"rounded leading-none px-4 py-2 bg-yellow hover:bg-yellow-light hover:shadow cursor-pointer",on:{click:function(e){return t.deleteScrapbook()}}},[t._v("\n                    Yes\n                ")])])])],1):t._e()],1)}),[],!1,null,null,null).exports},1900:(t,e,n)=>{"use strict";function i(t,e,n,i,r,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,{Z:()=>i})}}]);