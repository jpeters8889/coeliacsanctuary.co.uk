"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4847],{8078:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});const i={components:{"form-input":function(){return Promise.all([o.e(5816),o.e(1531)]).then(o.bind(o,3514))},"form-checkbox":function(){return Promise.all([o.e(5816),o.e(7279)]).then(o.bind(o,6409))},loader:function(){return o.e(8540).then(o.bind(o,6676))}},props:{name:{required:!0,type:String},email:{required:!0,type:String}},data:function(){return{isSubmitting:!1,fields:{name:"",email:"",password:"",password_confirmation:"",terms:!1},validity:{password:!1,password_confirmation:!1,terms:!1},errors:{password:"",password_confirmation:"",generic:""}}},mounted:function(){var e=this;this.fields.name=this.name,this.fields.email=this.email,Object.keys(this.fields).forEach((function(t){e.$root.$on("".concat(t,"-error"),(function(){e.validity[t]=!1})),e.$root.$on("".concat(t,"-valid"),(function(){e.validity[t]=!0})),e.$root.$on("".concat(t,"-value"),(function(o){e.fields[t]=o}))})),this.$root.$on("terms-change",(function(t){e.fields.terms=t,e.validity.terms=t}))},methods:{submitRegistration:function(){var e=this;this.validateForm()?(this.isSubmitting=!0,coeliac().request().post("/api/member/register",this.fields).then((function(){window.location="/member/dashboard"})).catch((function(t){422===t.response.status&&t.response.data.errors.email&&"Your email is already associated with an account!"===t.response.data.errors.email[0]?coeliac().error("Your email is already associated with an account, please log in to view your order history!"):(coeliac().error("Please correct any errors before continuing!"),e.fields.password="",e.validity.password=!1,e.fields.password_confirmation="",e.validity.password_confirmation=!1,e.fields.terms=!1,e.validity.terms=!1,e.$root.$emit("password-set-value",""),e.$root.$emit("password_confirmation-set-value",""),e.$root.$emit("terms-set-value",!1))})).finally((function(){e.isSubmitting=!1}))):coeliac().error("Please complete all fields!")},validateForm:function(){var e=this;Object.keys(this.validity).forEach((function(t){e.$root.$emit("".concat(t,"-get-value"))}));var t=!0;return Object.keys(this.validity).forEach((function(o){!1===e.validity[o]&&(t=!1)})),t}}};const r=(0,o(1900).Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bg-white bg-opacity-50 rounded-lg mb-2 p-2 shadow lg:w-1/3 mr-2"},[o("p",{staticClass:"text-center font-semibold"},[e._v("\n    Why not create an account with us to be able to see your order history, create and manage\n    personal scrapbooks, get notified about places to eat near you, and much more!\n  ")]),e._v(" "),o("form",{staticClass:"flex flex-col space-y-2 mt-2",on:{submit:function(t){return t.preventDefault(),e.submitRegistration.apply(null,arguments)}}},[o("form-input",{attrs:{type:"password",name:"password",autocomplete:"password",placeholder:"Password",required:"",min:8,value:e.fields.password}}),e._v(" "),o("form-input",{attrs:{type:"password",name:"password_confirmation",autocomplete:"password_confirmation",placeholder:"Confirm Your Password",required:"",min:8,value:e.fields.password_confirmation,match:e.fields.password}}),e._v(" "),o("form-checkbox",{attrs:{required:"",name:"terms","input-size":"text-base",label:"I accept the <a href='/terms-of-use' target='_blank' class='font-semibold hover:underline'>Terms and Conditions</a>",value:e.fields.terms}}),e._v(" "),o("button",{staticClass:"rounded-lg bg-blue leading-none text-lg font-semibold text-white hover:bg-blue-light transition-all flex items-center justify-center",class:e.isSubmitting?"py-2":"py-3",staticStyle:{height:"42px"},attrs:{disabled:e.isSubmitting},on:{click:function(t){return t.preventDefault(),e.submitRegistration.apply(null,arguments)}}},[e.isSubmitting?o("loader",{attrs:{"background-position":"",show:!0,height:"25px",width:"25px","border-width":"3px","faded-border-color":"border-white border-opacity-50","primary-border-color":"white"}}):o("span",[e._v("Join now!")])],1)],1)])}),[],!1,null,null,null).exports},1900:(e,t,o)=>{function i(e,t,o,i,r,s,n,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=o,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),n?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}o.d(t,{Z:()=>i})}}]);