(self.webpackChunk=self.webpackChunk||[]).push([[7148],{9081:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={methods:{googleEvent:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.gtag&&window.gtag(t,e,n)}}}},2394:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});n(2732);const a={methods:{loadLazyImages:function(){coeliac().updateLazyloader()}},computed:{lazyLoadSrc:function(){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 2'%3E%3C/svg%3E"}}}},2840:(t,e,n)=>{"use strict";function a(t){return new Promise((function(e){if(document.querySelector('script[src="'+t+'"]'))e();else{var n=document.createElement("script");n.setAttribute("src",t),document.body.appendChild(n),n.addEventListener("load",e)}}))}n.d(e,{v:()=>a})},8108:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});const a={props:{lat:{type:Number,required:!0},lng:{type:Number,required:!0},zoom:{type:Number,default:16}}};var o=n(2394),s=n(2840);const l={mixins:[a,n(9081).Z],mounted:function(){var t=this;this.googleEvent("event","dynamic-map",{event_category:"toggled",event_label:"".concat(this.lat,",").concat(this.lng)}),(0,s.v)("https://maps.google.com/maps/api/js?key=".concat(window.config.googleMaps.dynamic)).then((function(){var e=new google.maps.LatLng(t.lat,t.lng),n=new google.maps.Map(t.$refs.map,{center:e,zoom:t.zoom,mapTypeControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1});new google.maps.Marker({position:e,map:n,icon:{url:coeliac().getAsset("eatery.png","/images/map-markers"),size:new google.maps.Size(30,40)}})}))}};var r=n(1900);const i=(0,r.Z)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"map",staticClass:"h-full",staticStyle:{"min-width":"200px","min-height":"200px"}})}),[],!1,null,null,null).exports;const c={mixins:[a,o.Z],components:{"dynamic-map":i,modal:function(){return n.e(5441).then(n.bind(n,931))}},props:{mapClasses:{type:Array,default:function(){return["min-h-map"]}}},data:function(){return{showDetails:!1}},mounted:function(){var t=this;this.$root.$on("modal-closed",(function(){t.showDetails=!1})),this.loadLazyImages()},methods:{styles:function(){return{background:"no-repeat 50% 50%",lineHeight:0,cursor:"pointer"}},backgroundUrl:function(){return"https://maps.googleapis.com/maps/api/staticmap?center".concat(this.lat,",").concat(this.lng,"&size=600x1500&maptype=roadmap&markers=color:green%7Clabel:%7C").concat(this.lat,",").concat(this.lng,"&key=").concat(window.config.googleMaps.static)}},computed:{fullClasses:function(){var t=this.mapClasses;return t.push("lazy"),t}}};const u=(0,r.Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-full mb-1"},[n("div",{staticClass:"w-full",class:t.fullClasses,style:t.styles(),attrs:{"data-bg":t.backgroundUrl()},on:{click:function(e){e.stopPropagation(),t.showDetails=!0}}}),t._v(" "),t.showDetails?n("portal",{attrs:{to:"modal"}},[n("modal",{attrs:{"modal-classes":"w-full h-full"}},[n("dynamic-map",{attrs:{lat:t.lat,lng:t.lng}})],1)],1):t._e()],1)}),[],!1,null,null,null).exports}}]);