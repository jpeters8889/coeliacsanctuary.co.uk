(self.webpackChunk=self.webpackChunk||[]).push([[421],{9081:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});const s={methods:{googleEvent:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.gtag&&window.gtag(t,e,o)}}}},2394:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});o(2732);const s={methods:{loadLazyImages:function(){coeliac().updateLazyloader()}},computed:{lazyLoadSrc:function(){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 2'%3E%3C/svg%3E"}}}},2840:(t,e,o)=>{"use strict";function s(t){return new Promise((function(e){if(document.querySelector('script[src="'+t+'"]'))e();else{var o=document.createElement("script");o.setAttribute("src",t),document.body.appendChild(o),o.addEventListener("load",e)}}))}o.d(e,{v:()=>s})},2305:(t,e,o)=>{"use strict";o.d(e,{Z:()=>a});const s={props:{name:{type:String,default:""},modalClasses:{type:Array|String,default:function(){return[]}},small:{type:Boolean,default:!1}},mounted:function(){var t=this;document.querySelector("body").classList.add("overflow-hidden"),this.$root.$on("close-modal",(function(e){e&&e!==t.name||t.close()}))},methods:{close:function(){document.querySelector("body").classList.remove("overflow-hidden"),this.$root.$emit("modal-closed",this.name)}},computed:{computedClasses:function(){var t=this.modalClasses;Array.isArray(t)||(t=t.split(" "));var e="max-w-modal";return this.small&&(e="max-w-modal-small"),t.push(e),t}}};const a=(0,o(1900).Z)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"z-max fixed inset-0 w-full h-full bg-black-80 flex justify-center items-center",on:{click:function(e){return e.target!==e.currentTarget?null:t.close()}}},[o("div",{staticClass:"h-auto max-h-3/4 shadow p-2 border-2 border-blue-light w-auto rounded-lg bg-blue-light overflow-y-scroll",class:t.computedClasses},[o("div",{staticClass:"h-full relative"},[o("div",{staticClass:"absolute top-0 right-0 bg-white p-1 -mt-1 -mr-1 leading-none z-50 rounded border border-black cursor-pointer transition-bg",on:{click:function(e){return t.close()}}},[o("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1),t._v(" "),o("div",{staticClass:"h-full w-full bg-white-80 p-2 rounded"},[t._t("default")],2)])])])}),[],!1,null,null,null).exports},239:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>d});const s={props:{lat:{type:Number,required:!0},lng:{type:Number,required:!0},zoom:{type:Number,default:16}}};var a=o(2394),n=o(2840);const l={mixins:[s,o(9081).Z],mounted:function(){var t=this;this.googleEvent("event","dynamic-map",{event_category:"toggled",event_label:"".concat(this.lat,",").concat(this.lng)}),(0,n.v)("https://maps.google.com/maps/api/js?key=".concat(window.config.googleMaps.dynamic)).then((function(){var e=new google.maps.LatLng(t.lat,t.lng),o=new google.maps.Map(t.$refs.map,{center:e,zoom:t.zoom,mapTypeControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1});new google.maps.Marker({position:e,map:o,icon:{url:coeliac().getAsset("eatery.png","/images/map-markers"),size:new google.maps.Size(30,40)}})}))}};var r=o(1900);const i=(0,r.Z)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"map",staticClass:"h-full",staticStyle:{"min-width":"200px","min-height":"200px"}})}),[],!1,null,null,null).exports;var c=o(2305);const u={mixins:[s,a.Z],components:{"dynamic-map":i,modal:c.Z},props:{mapClasses:{type:Array,default:function(){return["min-h-map"]}}},data:function(){return{showDetails:!1}},mounted:function(){var t=this;this.$root.$on("modal-closed",(function(){t.showDetails=!1})),this.loadLazyImages()},methods:{styles:function(){return{background:"no-repeat 50% 50%",lineHeight:0,cursor:"pointer"}},backgroundUrl:function(){return"https://maps.googleapis.com/maps/api/staticmap?center".concat(this.lat,",").concat(this.lng,"&size=600x1500&maptype=roadmap&markers=color:green%7Clabel:%7C").concat(this.lat,",").concat(this.lng,"&key=").concat(window.config.googleMaps.static)}},computed:{fullClasses:function(){var t=this.mapClasses;return t.push("lazy"),t}}};const d=(0,r.Z)(u,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"h-full mb-1"},[o("div",{staticClass:"w-full",class:t.fullClasses,style:t.styles(),attrs:{"data-bg":t.backgroundUrl()},on:{click:function(e){e.stopPropagation(),t.showDetails=!0}}}),t._v(" "),t.showDetails?o("portal",{attrs:{to:"modal"}},[o("modal",{attrs:{"modal-classes":"w-full h-full"}},[o("dynamic-map",{attrs:{lat:t.lat,lng:t.lng}})],1)],1):t._e()],1)}),[],!1,null,null,null).exports}}]);