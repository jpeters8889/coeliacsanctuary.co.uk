(self.webpackChunk=self.webpackChunk||[]).push([[9162],{5441:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});const o={components:{"form-input":function(){return Promise.all([i.e(5816),i.e(1531)]).then(i.bind(i,9339))},loader:function(){return i.e(8540).then(i.bind(i,1337))}},data:function(){return{isSubmitting:!1,needsToVerify:!1,isCompleted:!1,fields:{email:""},validity:{email:!1}}},mounted:function(){var t=this;Object.keys(this.fields).forEach((function(e){t.$root.$on("".concat(e,"-error"),(function(){t.validity[e]=!1})),t.$root.$on("".concat(e,"-valid"),(function(){t.validity[e]=!0})),t.$root.$on("".concat(e,"-value"),(function(i){t.fields[e]=i})),t.$root.$on("".concat(e,"-change"),(function(i){t.fields[e]=i}))}))},methods:{submitForgotPassword:function(){var t=this;this.validateForm()?(this.isSubmitting=!0,coeliac().request().post("/api/member/forgot-password",this.fields).then((function(){t.isCompleted=!0})).catch((function(t){coeliac().error("There was an error processing your forgot password request, please try again!")})).finally((function(){t.isSubmitting=!1}))):coeliac().error("Please enter a valid email address!")},validateForm:function(){var t=this;Object.keys(this.validity).forEach((function(e){t.$root.$emit("".concat(e,"-get-value"))}));var e=!0;return Object.keys(this.validity).forEach((function(i){!1===t.validity[i]&&(e=!1)})),e}}};const r=(0,i(1900).Z)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rounded-lg border border-blue bg-blue-gradient-30 p-4 max-w-lg mx-auto"},[t.isCompleted?[i("p",{staticClass:"text-lg font-semibold text-center"},[t._v("\n            Thanks! We've received your request and have sent you a link to reset your email.\n        ")]),t._v(" "),t._m(0)]:i("form",{staticClass:"flex flex-col space-y-4 w-full max-w-basket-sidebar mx-auto",on:{submit:function(e){return e.preventDefault(),t.submitForgotPassword(e)}}},[i("form-input",{attrs:{type:"email",required:"",name:"email",placeholder:"Email Address",value:t.fields.email,autocomple:"email"}}),t._v(" "),i("button",{staticClass:"rounded-lg bg-blue leading-none text-lg font-semibold text-white hover:bg-blue-light transition-bg flex items-center justify-center",class:t.isSubmitting?"py-2":"py-3",staticStyle:{height:"42px"},attrs:{disabled:t.isSubmitting},on:{click:function(e){return e.preventDefault(),t.submitForgotPassword(e)}}},[t.isSubmitting?i("loader",{attrs:{"background-position":"",show:!0,height:"25px",width:"25px","border-width":"3px","faded-border-color":"border-white-50","primary-border-color":"white"}}):i("span",[t._v("Submit")])],1)],1)],2)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"mt-2 text-center"},[i("a",{attrs:{href:"/"}},[t._v("Back Home")])])}],!1,null,null,null).exports},8667:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});const o={components:{"form-input":function(){return Promise.all([i.e(5816),i.e(1531)]).then(i.bind(i,9339))},loader:function(){return i.e(8540).then(i.bind(i,1337))}},props:{token:{required:!0,type:String}},data:function(){return{isSubmitting:!1,needsToVerify:!1,isCompleted:!1,fields:{token:"",email:"",password:"",password_confirmation:""},validity:{token:!0,email:!1,password:!1,password_confirmation:!1}}},mounted:function(){var t=this;this.fields.token=this.token,Object.keys(this.fields).forEach((function(e){t.$root.$on("".concat(e,"-error"),(function(){t.validity[e]=!1})),t.$root.$on("".concat(e,"-valid"),(function(){t.validity[e]=!0})),t.$root.$on("".concat(e,"-value"),(function(i){t.fields[e]=i})),t.$root.$on("".concat(e,"-change"),(function(i){t.fields[e]=i}))}))},methods:{submitResetPassword:function(){var t=this;this.validateForm()?(this.isSubmitting=!0,coeliac().request().post("/api/member/reset-password",this.fields).then((function(){coeliac().success("You've changed your password!"),t.isCompleted=!0})).catch((function(t){coeliac().error("There was an error resetting your password, please try again!")})).finally((function(){t.isSubmitting=!1}))):coeliac().error("Make sure you've completed the form!")},validateForm:function(){var t=this;Object.keys(this.validity).forEach((function(e){t.$root.$emit("".concat(e,"-get-value"))}));var e=!0;return Object.keys(this.validity).forEach((function(i){!1===t.validity[i]&&(e=!1)})),e}}};const r=(0,i(1900).Z)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rounded-lg border border-blue bg-blue-gradient-30 p-4"},[t.isCompleted?[i("p",{staticClass:"text-lg font-semibold text-center"},[t._v("\n            Thanks! We've reset your password, please log in below.\n        ")]),t._v(" "),i("div",{staticClass:"mt-2 text-center"},[i("member-login-form")],1)]:i("form",{staticClass:"flex flex-col space-y-4 w-full max-w-basket-sidebar",on:{submit:function(e){return e.preventDefault(),t.submitResetPassword(e)}}},[i("form-input",{attrs:{type:"email",required:"",name:"email",placeholder:"Email Address",value:t.fields.email,autocomple:"email"}}),t._v(" "),i("form-input",{attrs:{type:"password",required:"",name:"password",placeholder:"Password",value:t.fields.password,autocomplete:"password"}}),t._v(" "),i("form-input",{attrs:{type:"password",required:"",name:"password_confirmation",placeholder:"Confirm your password",match:t.fields.password,value:t.fields.password_confirmation,autocomplete:"password_confirmation"}}),t._v(" "),i("button",{staticClass:"rounded-lg bg-blue leading-none text-lg font-semibold text-white hover:bg-blue-light transition-bg flex items-center justify-center",class:t.isSubmitting?"py-2":"py-3",staticStyle:{height:"42px"},attrs:{disabled:t.isSubmitting},on:{click:function(e){return e.preventDefault(),t.submitResetPassword(e)}}},[t.isSubmitting?i("loader",{attrs:{"background-position":"",show:!0,height:"25px",width:"25px","border-width":"3px","faded-border-color":"border-white-50","primary-border-color":"white"}}):i("span",[t._v("Reset Password")])],1)],1)],2)}),[],!1,null,null,null).exports},1900:(t,e,i)=>{"use strict";function o(t,e,i,o,r,n,s,a){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),o&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}i.d(e,{Z:()=>o})}}]);