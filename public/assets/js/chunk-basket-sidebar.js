"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7968],{1560:(t,a,e)=>{e.d(a,{Z:()=>s});const s={methods:{formatPrice:function(t){return t=(t/100).toFixed(2),"&pound;".concat(t)}}}},6003:(t,a,e)=>{e.r(a),e.d(a,{default:()=>l});var s=e(1560),o=e(9081),n=e(8222);const i={mixins:[s.Z,o.Z,n.Z],data:function(){return{showBasket:!1,hasBackground:!1,data:{items:[],subtotal:0}}},watch:{showBasket:function(t){if(this.offsetAd(),t)return document.querySelector("body").classList.add("overflow-hidden"),void this.getData();document.querySelector("body").classList.remove("overflow-hidden")}},mounted:function(){var t=this;this.getData(),this.offsetAd(),this.$root.$on("background-entered",(function(){t.hasBackground=!0})),this.$root.$on("show-basket",(function(){t.showBasket=!0})),this.$root.$on("product-updated",(function(){t.getData()}))},methods:{getData:function(){var t=this;coeliac().request().get("/api/shop/basket/summary").then((function(a){t.googleEvent("event","checkout_progress",{event_category:"opened-basket-sidebar"}),200!==a.status?t.data={items:[],subtotal:0}:t.$set(t,"data",a.data)})).catch((function(){t.data={items:[],subtotal:0}}))},offsetAd:function(){var t=document.querySelector('.adsbygoogle-noablate[data-ad-status="filled"]');if(t){var a=t.offsetHeight+50;this.$refs.basketItemsContainer.style.paddingBottom="".concat(a,"px")}}}};const l=(0,e(1900).Z)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{"enter-active-class":"duration-300 ease-out","enter-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-class":"opacity-100","leave-to-class":"opacity-0"},on:{enter:function(a){return t.$root.$emit("background-entered")}}},[t.showBasket?e("div",{staticClass:"transition-all transform fixed inset-0 h-full bg-black bg-opacity-50 w-full z-max overflow-hidden"},[e("transition",{attrs:{"enter-active-class":"duration-400 ease-out","enter-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"duration-200 ease-in","leave-class":"translate-x-0","leave-to-class":"translate-x-full"}},[t.showBasket&&t.hasBackground?e("div",{staticClass:"transition-all transform w-11/12 h-full right-0 top-0 bg-white p-3 shadow-basket-sidebar fixed z-max max-w-basket-sidebar"},[e("div",{staticClass:"relative flex flex-col h-full"},[e("div",{staticClass:"absolute right-0 top-0 text-xl cursor-pointer",on:{click:function(a){t.showBasket=!1,t.hasBackground=!1}}},[e("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1),t._v(" "),t.data.items.length>0?[e("div",{ref:"basketItemsContainer",staticClass:"flex flex-col h-full"},[e("div",{staticClass:"flex-1 scrollable"},[e("table",{staticClass:"font-semibold"},[t._l(t.data.items,(function(a){return[e("tr",{key:a.id+"_1"},[e("td",{staticClass:"py-1",attrs:{colspan:"2"}},[t._v("\n                        "+t._s(a.product.title)+" "),""!==a.variant.title?e("span",[t._v("("+t._s(a.variant.title)+")")]):t._e()])]),t._v(" "),e("tr",{key:a.id+"_2",staticClass:"text-xl"},[e("td",[e("shop-basket-ui-quantity-switcher",{attrs:{quantity:a.quantity,"product-id":a.product.id,"variant-id":a.variant.id}})],1),t._v(" "),e("td",{staticClass:"text-right",domProps:{innerHTML:t._s(t.formatPrice(a.subtotal))}})])]}))],2)]),t._v(" "),e("div",[e("table",{staticClass:"font-semibold"},[e("tr",{staticClass:"text-xl"},[e("td",[t._v("Subtotal")]),t._v(" "),e("td",{staticClass:"text-right",domProps:{innerHTML:t._s(t.formatPrice(t.data.subtotal))}})]),t._v(" "),e("tr",[e("td",{staticClass:"text-xs font-normal text-center leading-tight",attrs:{colspan:"2"}},[t._v("\n                      Postage and Discount codes are calculated at checkout.\n                    ")])]),t._v(" "),e("tr",[e("td",{attrs:{colspan:"2"}},[e("a",{staticClass:"block bg-blue-light hover:bg-opacity-75 rounded-lg p-2 w-full text-center transition-all",attrs:{href:"/shop/basket"}},[t._v("\n                        Checkout\n                      ")])])])])])])]:[e("p",[t._v("We couldn't find any items in your basket...")])]],2)]):t._e()])],1):t._e()])}),[],!1,null,null,null).exports}}]);