(self.webpackChunk=self.webpackChunk||[]).push([[1613],{5231:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});const r={components:{"form-input":function(){return Promise.all([o.e(5816),o.e(1531)]).then(o.bind(o,9339))},"form-checkbox":function(){return Promise.all([o.e(5816),o.e(7279)]).then(o.bind(o,7540))},loader:function(){return o.e(8540).then(o.bind(o,1337))}},data:function(){return{isSubmitting:!1,alreadyHasAccount:!1,fields:{name:"",email:"",password:"",password_confirmation:"",terms:!1},validity:{name:!1,email:!1,password:!1,password_confirmation:!1,terms:!1},errors:{name:"",email:"",password:"",password_confirmation:"",generic:""}}},mounted:function(){var e=this;Object.keys(this.fields).forEach((function(t){e.$root.$on("".concat(t,"-error"),(function(){e.validity[t]=!1})),e.$root.$on("".concat(t,"-valid"),(function(){e.validity[t]=!0})),e.$root.$on("".concat(t,"-value"),(function(o){e.fields[t]=o}))})),this.$root.$on("terms-change",(function(t){e.fields.terms=t,e.validity.terms=t}))},methods:{submitRegistration:function(){var e=this;this.validateForm()?(this.isSubmitting=!0,coeliac().request().post("/api/member/register",this.fields).then((function(){window.location="/member/dashboard"})).catch((function(t){422===t.response.status&&t.response.data.errors.email&&"Your email is already associated with an account!"===t.response.data.errors.email[0]?e.alreadyHasAccount=!0:(coeliac().error("Please correct any errors before continuing!"),e.fields.password="",e.validity.password=!1,e.fields.password_confirmation="",e.validity.password_confirmation=!1,e.fields.terms=!1,e.validity.terms=!1,e.$root.$emit("password-set-value",""),e.$root.$emit("password_confirmation-set-value",""),e.$root.$emit("terms-set-value",!1))})).finally((function(){e.isSubmitting=!1}))):coeliac().error("Please complete all fields!")},validateForm:function(){var e=this;Object.keys(this.validity).forEach((function(t){e.$root.$emit("".concat(t,"-get-value"))}));var t=!0;return Object.keys(this.validity).forEach((function(o){!1===e.validity[o]&&(t=!1)})),t}}};const i=(0,o(1900).Z)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex justify-center items-center"},[e.alreadyHasAccount?o("div",{staticClass:"rounded-lg border border-blue p-4 flex flex-col space-y-4 w-full max-w-basket-sidebar bg-grey-lightest text-lg text-center"},[o("p",[e._v("\n            Your email "+e._s(e.fields.email)+" is already associated with an account!\n        ")]),e._v(" "),o("p",{staticClass:"mt-2"},[o("member-login-trigger",{staticClass:"text-blue cursor-pointer text-semibold hover:text-blue-dark transition-colour"},[e._v("Login now!\n            ")])],1)]):o("form",{staticClass:"rounded-lg border border-blue p-4 flex flex-col space-y-4 w-full max-w-basket-sidebar bg-grey-lightest",on:{submit:function(t){return t.preventDefault(),e.submitRegistration(t)}}},[o("div",{staticClass:"mx-auto",staticStyle:{width:"50px"}},[o("global-layout-coeliac-icon",{attrs:{colour:"#80CCFC"}})],1),e._v(" "),o("p",[e._v("\n            Register an account on Coeliac Sanctuary today and get access to our member dashboard where you can\n            create lists of your favourite recipes and blogs, subscribe to get notified when we add places to eat\n            near you, view your order history in our shop, plus much more!\n        ")]),e._v(" "),o("form-input",{attrs:{type:"text",required:"",name:"name",placeholder:"Your Name",value:e.fields.name,autocomple:"name"}}),e._v(" "),o("form-input",{attrs:{type:"email",required:"",name:"email",placeholder:"Email Address",value:e.fields.email,autocomple:"email"}}),e._v(" "),o("form-input",{attrs:{type:"password",required:"",name:"password",placeholder:"Password",value:e.fields.password,autocomplete:"password"}}),e._v(" "),o("form-input",{attrs:{type:"password",required:"",name:"password_confirmation",placeholder:"Confirm your password",match:e.fields.password,value:e.fields.password_confirmation,autocomplete:"password_confirmation"}}),e._v(" "),o("form-checkbox",{attrs:{required:"",name:"terms","input-size":"text-base",label:"I accept the <a href='/terms-of-use' target='_blank'>Terms and Conditions</a>",value:e.fields.terms}}),e._v(" "),o("button",{staticClass:"rounded-lg bg-blue leading-none text-lg font-semibold text-white hover:bg-blue-light transition-bg flex items-center justify-center",class:e.isSubmitting?"py-2":"py-3",staticStyle:{height:"42px"},attrs:{disabled:e.isSubmitting},on:{click:function(t){return t.preventDefault(),e.submitRegistration(t)}}},[e.isSubmitting?o("loader",{attrs:{"background-position":"",show:!0,height:"25px",width:"25px","border-width":"3px","faded-border-color":"border-white-50","primary-border-color":"white"}}):o("span",[e._v("Join now!")])],1),e._v(" "),e._m(0)],1)])}),[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex justify-end text-xs mt-2 font-semibold"},[o("a",{staticClass:"text-blue hover:text-grey",attrs:{href:"/member/forgot-password"}},[e._v("Forgotten Password?")])])}],!1,null,null,null).exports},1900:(e,t,o)=>{"use strict";function r(e,t,o,r,i,s,a,n){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=o,c._compiled=!0),r&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=n?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}o.d(t,{Z:()=>r})}}]);