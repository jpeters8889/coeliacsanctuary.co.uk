(self.webpackChunk=self.webpackChunk||[]).push([[668],{9081:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});const r={methods:{googleEvent:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.gtag&&window.gtag(t,e,s)}}}},2102:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});const r={data:function(){return{hasError:!1,showError:!1,errorText:"",currentValue:""}},props:{type:{type:String,default:"text"},name:{type:String,required:!0},value:{type:String,default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},pattern:{type:RegExp,default:null},patternError:{type:String,default:"Field is Invalid"},match:{type:String,default:null}},mounted:function(){var t=this;this.currentValue=this.value,this.required&&""===this.currentValue&&(this.hasError=!0),this.$root.$on(this.name+"-get-value",(function(){t.validate(),t.$root.$emit(t.name+"-value",t.currentValue)})),this.$root.$on(this.name+"-set-value",(function(e){t.currentValue=e,t.hasError=!0,t.validate()})),this.$root.$on(this.name+"-reset",(function(){t.currentValue="",t.showError=!1})),this.$root.$on(this.name+"-validate",(function(){t.hasError=!0,t.validate()}))},methods:{validate:function(){if(this.showError=!0,this.required&&""===this.currentValue)return this.errorText="Field is required",void this.pushError();if(this.pattern&&(this.required||""!==this.currentValue)&&!this.currentValue.match(this.pattern))return this.errorText=this.patternError,void this.pushError();if(this.match&&this.currentValue!==this.match)return this.errorText="Field does not match",void this.pushError();switch(this.type){case"email":if(!this.checkEmail())return this.errorText="Must be a valid email address",void this.pushError()}this.hasError=!1,this.errorText="",this.$root.$emit(this.name+"-valid")},checkEmail:function(){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.currentValue)},pushError:function(){this.hasError=!0,this.$root.$emit(this.name+"-error",this.errorText)}},watch:{hasError:function(){this.hasError?this.$root.$emit(this.name+"-error",this.errorText):this.$root.$emit(this.name+"-valid")},currentValue:function(t){this.$root.$emit(this.name+"-change",t)}}}},2394:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});s(2732);const r={methods:{loadLazyImages:function(){coeliac().updateLazyloader()}},computed:{lazyLoadSrc:function(){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 2'%3E%3C/svg%3E"}}}},5279:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});var r=s(3645),l=s.n(r)()(!0);l.push([t.id,"input:focus {\n  outline: none;\n}\ninput:-webkit-autofill {\n  background: none;\n}\n","",{version:3,sources:["webpack://resources/js/Components/Forms/FormCheckbox.vue"],names:[],mappings:"AA+CA;EACA,aAAA;AACA;AAEA;EACA,gBAAA;AACA",sourcesContent:['<template>\n    <div class="flex flex-col">\n        <div class="flex items-center cursor-pointer" @click="select()">\n            <div class="p-2 pl-0">\n                <div class="border border-grey-off bg-grey-lightest p-1"\n                     :class="inputSize + \' \' + (value ? \'text-green\' : \'text-grey-off-light\')">\n                    <font-awesome-icon :icon="[\'fas\', \'check\']"></font-awesome-icon>\n                </div>\n            </div>\n            <div class="flex-1">\n                {{ label }}\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import IsFormField from "../../Mixins/IsFormField";\n\n    export default {\n        mixins: [IsFormField],\n\n        props: {\n            value: {\n                required: true,\n                type: Boolean,\n            },\n            label: {\n                required: true,\n                type: String,\n            },\n            inputSize: {\n                default: \'text-xl\',\n                type: String,\n            },\n        },\n\n        methods: {\n            select() {\n                this.currentValue = !this.currentValue;\n                this.validate()\n            }\n        }\n    }\n<\/script>\n\n<style>\n    input:focus {\n        outline: none;\n    }\n\n    input:-webkit-autofill {\n        background: none;\n    }\n</style>\n'],sourceRoot:""}]);const i=l},3659:(t,e,s)=>{var r=s(3379),l=s(5279);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.id,l,""]]);var i={insert:"head",singleton:!1};r(l,i);t.exports=l.locals||{}},9287:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>_});var r=s(2394),l=(s(3659),s(2102)),i=s(9081);const a={mixins:[l.Z],props:{value:{required:!0,type:Boolean},label:{required:!0,type:String},inputSize:{default:"text-xl",type:String}},methods:{select:function(){this.currentValue=!this.currentValue,this.validate()}}};var n=s(1900);const o=(0,n.Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"flex items-center cursor-pointer",on:{click:function(e){return t.select()}}},[s("div",{staticClass:"p-2 pl-0"},[s("div",{staticClass:"border border-grey-off bg-grey-lightest p-1",class:t.inputSize+" "+(t.value?"text-green":"text-grey-off-light")},[s("font-awesome-icon",{attrs:{icon:["fas","check"]}})],1)]),t._v(" "),s("div",{staticClass:"flex-1"},[t._v("\n            "+t._s(t.label)+"\n        ")])])])}),[],!1,null,null,null).exports;const c={props:{result:{type:Object,required:!0}}},u={mixins:[c,r.Z]};const h=(0,n.Z)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col p-2 xs:flex-row"},[s("div",{staticClass:"mb-2 xs:mb-0 xs:mr-2 xs:w-1/6"},[s("img",{staticClass:"lazy",attrs:{"data-src":t.result.image,src:t.lazyLoadSrc,loading:"lazy",alt:t.result.title}})]),t._v(" "),s("div",{staticClass:"flex-1 flex flex-col"},[s("h2",{staticClass:"text-blue font-semibold mb-2"},[s("a",{attrs:{href:t.result.link}},[t._v("\n                Blog - "+t._s(t.result.title)+"\n            ")])]),t._v(" "),s("p",{staticClass:"text-sm"},[t._v(t._s(t.result.description))])])])}),[],!1,null,null,null).exports;const d={mixins:[c]};const f=(0,n.Z)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col p-2 xs:flex-row"},[s("div",{staticClass:"mb-2 xs:mb-0 xs:mr-2 xs:w-1/6"},[s("static-map",{attrs:{lat:t.result.lat,lng:t.result.lng,mapClasses:["h-48 xs:h-16"]}})],1),t._v(" "),s("div",{staticClass:"flex-1 flex flex-col"},[s("h2",{staticClass:"text-blue font-semibold mb-2"},[s("a",{attrs:{href:t.result.link}},[t._v("\n                Eatery - "+t._s(t.result.title)+", "+t._s(t.result.town)+", "+t._s(t.result.county)+"\n            ")])]),t._v(" "),s("p",{staticClass:"text-sm"},[t._v(t._s(t.result.description))])])])}),[],!1,null,null,null).exports;const x={mixins:[c]};const m=(0,n.Z)(x,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col p-2 xs:flex-row"},[s("div",{staticClass:"mb-2 xs:mb-0 xs:mr-2 xs:w-1/6"},[s("recipe-image",{attrs:{src:t.result.image,alt:t.result.title}})],1),t._v(" "),s("div",{staticClass:"flex-1 flex flex-col"},[s("h2",{staticClass:"text-blue font-semibold mb-2"},[s("a",{attrs:{href:t.result.link}},[t._v("\n                Recipe - "+t._s(t.result.title)+"\n            ")])]),t._v(" "),s("p",{staticClass:"text-sm"},[t._v(t._s(t.result.description))])])])}),[],!1,null,null,null).exports;const p={mixins:[c,r.Z]};const v=(0,n.Z)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col p-2 xs:flex-row"},[s("div",{staticClass:"mb-2 xs:mb-0 xs:mr-2 xs:w-1/6"},[s("img",{staticClass:"lazy",attrs:{"data-src":t.result.image,src:t.lazyLoadSrc,loading:"lazy",alt:t.result.title}})]),t._v(" "),s("div",{staticClass:"flex-1 flex flex-col"},[s("h2",{staticClass:"text-blue font-semibold mb-2"},[s("a",{attrs:{href:t.result.link}},[t._v("\n                Review - "+t._s(t.result.title)+"\n            ")])]),t._v(" "),s("p",{staticClass:"text-sm"},[t._v(t._s(t.result.description))])])])}),[],!1,null,null,null).exports;const g={mixins:[c,r.Z]};const b=(0,n.Z)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col p-2 xs:flex-row"},[s("div",{staticClass:"mb-2 xs:mb-0 xs:mr-2 xs:w-1/6"},[s("img",{staticClass:"lazy",attrs:{"data-src":t.result.image,src:t.lazyLoadSrc,loading:"lazy",alt:t.result.title}})]),t._v(" "),s("div",{staticClass:"flex-1 flex flex-col"},[s("h2",{staticClass:"text-blue font-semibold mb-2"},[s("a",{attrs:{href:t.result.link}},[t._v("\n                Shop Product - "+t._s(t.result.title)+"\n            ")])]),t._v(" "),s("p",{staticClass:"text-sm"},[t._v(t._s(t.result.description))])])])}),[],!1,null,null,null).exports,y={mixins:[i.Z,r.Z],components:{"form-checkbox":o,"search-blog-result":h,"search-eatery-result":f,"search-recipe-result":m,"search-review-result":v,"search-shop-product-result":b},data:function(){return{timeout:null,showBox:!1,searchText:"",areas:{blogs:!0,reviews:!0,recipes:!0,eateries:!1,products:!0},results:[]}},mounted:function(){var t=this;this.$root.$on("show-quick-search",(function(){t.googleEvent("event","search",{event_label:"opened"}),t.show()})),Object.keys(this.areas).forEach((function(e){t.$root.$on("".concat(e,"-change"),(function(s){t.areas[e]=!!s,""!==t.searchText&&t.search()}))}))},methods:{search:function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.results=[],coeliac().request().post("/api/search",{search:t.searchText,areas:t.areas}).then((function(e){t.googleEvent("event","search",{event_label:t.searchText}),200===e.status&&(t.results=e.data),t.loadLazyImages()}))}),500)},labelFor:function(t){return"products"===t?"Shop":t.charAt(0).toUpperCase()+t.slice(1)},show:function(){var t=this;document.querySelector("body").classList.add("overflow-hidden"),this.showBox=!0,setTimeout((function(){t.$refs.searchText.focus()}),100)},hide:function(){this.showBox=!1,document.querySelector("body").classList.remove("overflow-hidden")},resultComponent:function(t){switch(t){case"blogs":return"search-blog-result";case"eateries":return"search-eatery-result";case"reviews":return"search-review-result";case"recipes":return"search-recipe-result";case"shopproducts":return"search-shop-product-result"}}}};const _=(0,n.Z)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showBox?s("div",{staticClass:"js-search-modal z-max fixed inset-0 w-full h-full bg-black-80 flex justify-center items-center px-4",on:{click:function(e){return e.target!==e.currentTarget?null:t.hide()}}},[s("div",{staticClass:"w-full max-w-modal-small max-h-full bg-white rounded-lg"},[s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"leading-none flex flex-wrap justify-center text-xs bg-grey-light py-2 px-4 rounded-t-lg"},t._l(t.areas,(function(e,r){return s("div",{staticClass:"px-1"},[s("form-checkbox",{attrs:{value:e,label:t.labelFor(r),"input-size":"text-xs",name:r}})],1)})),0),t._v(" "),s("div",{staticClass:"flex items-center justify-between py-2 px-4"},[s("div",[s("font-awesome-icon",{attrs:{icon:["fas","search"]}})],1),t._v(" "),s("div",{staticClass:"flex-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],ref:"searchText",staticClass:"w-full border-0 text-lg pl-2",attrs:{type:"search",maxlength:"50",max:"50",placeholder:"What are you looking for?"},domProps:{value:t.searchText},on:{keyup:function(e){return t.search()},input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])]),t._v(" "),""!==t.searchText?s("div",{staticClass:"flex flex-col scrollable h-3/4 max-h-search"},t._l(t.results,(function(e,r){return t.results.length>0?s("div",{staticClass:"border-b border-grey-off-light leading-tight",class:r%2==0?"bg-grey-light":""},[s(t.resultComponent(e.type),{tag:"component",attrs:{result:e}})],1):s("div",[s("em",[t._v("No results found...")])])})),0):t._e()])])]):t._e()}),[],!1,null,null,null).exports}}]);