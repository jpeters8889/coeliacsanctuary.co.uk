(self.webpackChunk=self.webpackChunk||[]).push([[294],{2102:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={data:function(){return{hasError:!1,showError:!1,errorText:"",currentValue:""}},props:{type:{type:String,default:"text"},name:{type:String,required:!0},value:{type:String,default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number,default:null},max:{type:Number,default:null},pattern:{type:RegExp,default:null},patternError:{type:String,default:"Field is Invalid"},match:{type:String,default:null}},mounted:function(){var e=this;this.currentValue=this.value,this.required&&""===this.currentValue&&(this.hasError=!0),this.$root.$on(this.name+"-get-value",(function(){e.validate(),e.$root.$emit(e.name+"-value",e.currentValue)})),this.$root.$on(this.name+"-set-value",(function(t){e.currentValue=t,e.hasError=!0,e.validate()})),this.$root.$on(this.name+"-reset",(function(){e.currentValue="",e.showError=!1})),this.$root.$on(this.name+"-validate",(function(){e.hasError=!0,e.validate()}))},methods:{validate:function(){if(this.showError=!0,this.required&&""===this.currentValue)return this.errorText="Field is required",void this.pushError();if(this.pattern&&(this.required||""!==this.currentValue)&&!this.currentValue.match(this.pattern))return this.errorText=this.patternError,void this.pushError();if(this.match&&this.currentValue!==this.match)return this.errorText="Field does not match",void this.pushError();switch(this.type){case"email":if(!this.checkEmail())return this.errorText="Must be a valid email address",void this.pushError()}this.hasError=!1,this.errorText="",this.$root.$emit(this.name+"-valid")},checkEmail:function(){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.currentValue)},pushError:function(){this.hasError=!0,this.$root.$emit(this.name+"-error",this.errorText)}},watch:{hasError:function(){this.hasError?this.$root.$emit(this.name+"-error",this.errorText):this.$root.$emit(this.name+"-valid")},currentValue:function(e){this.$root.$emit(this.name+"-change",e)}}}},6692:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(3645),a=r.n(n)()(!0);a.push([e.id,"input:focus {\n  outline: none;\n}\ninput:-webkit-autofill {\n  background: none;\n}\n","",{version:3,sources:["webpack://resources/js/Components/Forms/FormInput.vue"],names:[],mappings:"AAuBA;EACA,aAAA;AACA;AAEA;EACA,gBAAA;AACA",sourcesContent:['<template>\n    <div class="flex overflow-hidden border border-blue rounded">\n        <div class="bg-grey-lightest p-0 flex-1">\n            <input v-model="currentValue" :type="type" :name="name" :placeholder="placeholder" @blur="validate()" :min="min" :max="max"\n                   :disabled="disabled" class="w-full bg-transparent border-0 p-3 m-0 text-grey-darkest" :class="disabled ? \'text-grey-light cursor:not-allowed\' : \'\'" />\n        </div>\n\n        <div class="bg-red flex justify-center items-center p-2 text-white" v-if="hasError && showError"\n             v-tooltip.left="{content: errorText, classes: [\'bg-red\', \'border-red\', \'text-white\'], boundariesElement: \'body\'}">\n            <font-awesome-icon :icon="[\'fas\', \'exclamation-circle\']"></font-awesome-icon>\n        </div>\n    </div>\n</template>\n\n<script>\n    import IsFormField from "../../Mixins/IsFormField";\n\n    export default {\n        mixins: [IsFormField],\n    }\n<\/script>\n\n<style>\n    input:focus {\n        outline: none;\n    }\n\n    input:-webkit-autofill {\n        background: none;\n    }\n</style>\n'],sourceRoot:""}]);const o=a},2750:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(3645),a=r.n(n)()(!0);a.push([e.id,"input:focus {\n  outline: none;\n}\ninput:-webkit-autofill {\n  background: none;\n}\n","",{version:3,sources:["webpack://resources/js/Components/Forms/FormSelect.vue"],names:[],mappings:"AA2CA;EACA,aAAA;AACA;AAEA;EACA,gBAAA;AACA",sourcesContent:['<template>\n    <div>\n        <span v-if="label" class="block font-semibold text-lg mb-2">{{ label }}</span>\n\n        <div class="flex overflow-hidden border border-blue rounded">\n            <div class="bg-grey-lightest p-0 flex-1">\n                <select :name="name" v-model="currentValue" @blur="validate()"\n                        class="w-full bg-transparent border-0 m-0 text-grey-darkest" :class="padding">\n                    <option v-for="option in options" :value="option.value" v-text="option.label"></option>\n                </select>\n            </div>\n\n            <div class="bg-red flex justify-center items-center p-2 text-white" v-if="hasError && showError"\n                 v-tooltip.bottom="{content: errorText, classes: [\'bg-red\', \'border-red\', \'text-white\']}">\n                <font-awesome-icon :icon="[\'fas\', \'exclamation-circle\']"></font-awesome-icon>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import IsFormField from "../../Mixins/IsFormField";\n\n    export default {\n        mixins: [IsFormField],\n\n        props: {\n            options: {\n                required: true,\n                type: Array,\n            },\n            padding: {\n                default: \'p-3\',\n            },\n            label: {\n                type: String,\n                default: null,\n            }\n        }\n    }\n<\/script>\n\n<style>\n    input:focus {\n        outline: none;\n    }\n\n    input:-webkit-autofill {\n        background: none;\n    }\n</style>\n'],sourceRoot:""}]);const o=a},5728:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(3645),a=r.n(n)()(!0);a.push([e.id,"input:focus {\n  outline: none;\n}\ninput:-webkit-autofill {\n  background: none;\n}\n","",{version:3,sources:["webpack://resources/js/Components/Forms/FormTextarea.vue"],names:[],mappings:"AA8BA;EACA,aAAA;AACA;AAEA;EACA,gBAAA;AACA",sourcesContent:['<template>\n    <div class="flex overflow-hidden border border-blue rounded">\n        <div class="bg-grey-lightest flex-1">\n            <textarea v-model="currentValue" :name="name" :placeholder="placeholder" :rows="rows" @blur="validate()" :maxlength="max"\n                      class="w-full bg-transparent border-0 p-3 m-0 text-grey-darkest"></textarea>\n        </div>\n\n        <div class="bg-red flex justify-center p-2 text-white pt-3" v-if="hasError && showError"\n             v-tooltip="{content: errorText, classes: [\'bg-red\', \'border-red\', \'text-white\']}">\n            <font-awesome-icon :icon="[\'fas\', \'exclamation-circle\']"></font-awesome-icon>\n        </div>\n    </div>\n</template>\n\n<script>\n    import IsFormField from "../../Mixins/IsFormField";\n\n    export default {\n        mixins: [IsFormField],\n\n        props: {\n            rows: {\n                type: Number,\n                default: 3,\n            },\n        },\n    }\n<\/script>\n\n<style>\n    input:focus {\n        outline: none;\n    }\n\n    input:-webkit-autofill {\n        background: none;\n    }\n</style>\n'],sourceRoot:""}]);const o=a},1067:(e,t,r)=>{var n=r(3379),a=r(6692);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},8936:(e,t,r)=>{var n=r(3379),a=r(2750);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},5235:(e,t,r)=>{var n=r(3379),a=r(5728);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},6970:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});r(1067);const n={mixins:[r(2102).Z]};const a=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex overflow-hidden border border-blue rounded"},[r("div",{staticClass:"bg-grey-lightest p-0 flex-1"},["checkbox"===e.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"w-full bg-transparent border-0 p-3 m-0 text-grey-darkest",class:e.disabled?"text-grey-light cursor:not-allowed":"",attrs:{name:e.name,placeholder:e.placeholder,min:e.min,max:e.max,disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.currentValue)?e._i(e.currentValue,null)>-1:e.currentValue},on:{blur:function(t){return e.validate()},change:function(t){var r=e.currentValue,n=t.target,a=!!n.checked;if(Array.isArray(r)){var o=e._i(r,null);n.checked?o<0&&(e.currentValue=r.concat([null])):o>-1&&(e.currentValue=r.slice(0,o).concat(r.slice(o+1)))}else e.currentValue=a}}}):"radio"===e.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"w-full bg-transparent border-0 p-3 m-0 text-grey-darkest",class:e.disabled?"text-grey-light cursor:not-allowed":"",attrs:{name:e.name,placeholder:e.placeholder,min:e.min,max:e.max,disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.currentValue,null)},on:{blur:function(t){return e.validate()},change:function(t){e.currentValue=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"w-full bg-transparent border-0 p-3 m-0 text-grey-darkest",class:e.disabled?"text-grey-light cursor:not-allowed":"",attrs:{name:e.name,placeholder:e.placeholder,min:e.min,max:e.max,disabled:e.disabled,type:e.type},domProps:{value:e.currentValue},on:{blur:function(t){return e.validate()},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}})]),e._v(" "),e.hasError&&e.showError?r("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:e.errorText,classes:["bg-red","border-red","text-white"],boundariesElement:"body"},expression:"{content: errorText, classes: ['bg-red', 'border-red', 'text-white'], boundariesElement: 'body'}",modifiers:{left:!0}}],staticClass:"bg-red flex justify-center items-center p-2 text-white"},[r("font-awesome-icon",{attrs:{icon:["fas","exclamation-circle"]}})],1):e._e()])}),[],!1,null,null,null).exports},1312:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});r(8936);const n={mixins:[r(2102).Z],props:{options:{required:!0,type:Array},padding:{default:"p-3"},label:{type:String,default:null}}};const a=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.label?r("span",{staticClass:"block font-semibold text-lg mb-2"},[e._v(e._s(e.label))]):e._e(),e._v(" "),r("div",{staticClass:"flex overflow-hidden border border-blue rounded"},[r("div",{staticClass:"bg-grey-lightest p-0 flex-1"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"w-full bg-transparent border-0 m-0 text-grey-darkest",class:e.padding,attrs:{name:e.name},on:{blur:function(t){return e.validate()},change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.currentValue=t.target.multiple?r:r[0]}}},e._l(e.options,(function(t){return r("option",{domProps:{value:t.value,textContent:e._s(t.label)}})})),0)]),e._v(" "),e.hasError&&e.showError?r("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:{content:e.errorText,classes:["bg-red","border-red","text-white"]},expression:"{content: errorText, classes: ['bg-red', 'border-red', 'text-white']}",modifiers:{bottom:!0}}],staticClass:"bg-red flex justify-center items-center p-2 text-white"},[r("font-awesome-icon",{attrs:{icon:["fas","exclamation-circle"]}})],1):e._e()])])}),[],!1,null,null,null).exports},8878:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});r(5235);const n={mixins:[r(2102).Z],props:{rows:{type:Number,default:3}}};const a=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex overflow-hidden border border-blue rounded"},[r("div",{staticClass:"bg-grey-lightest flex-1"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"w-full bg-transparent border-0 p-3 m-0 text-grey-darkest",attrs:{name:e.name,placeholder:e.placeholder,rows:e.rows,maxlength:e.max},domProps:{value:e.currentValue},on:{blur:function(t){return e.validate()},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}})]),e._v(" "),e.hasError&&e.showError?r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.errorText,classes:["bg-red","border-red","text-white"]},expression:"{content: errorText, classes: ['bg-red', 'border-red', 'text-white']}"}],staticClass:"bg-red flex justify-center p-2 text-white pt-3"},[r("font-awesome-icon",{attrs:{icon:["fas","exclamation-circle"]}})],1):e._e()])}),[],!1,null,null,null).exports},7143:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(6970),a=r(1312),o=r(8878);const s={components:{"form-input":n.Z,"form-select":a.Z,"form-textarea":o.Z},data:function(){return{formData:{name:"",state:"add",comment:""},validity:{name:!1,state:!0,comment:!1},stateOptions:[{value:"add",label:"Add"},{value:"remove",label:"Remove"}]}},mounted:function(){var e=this;Object.keys(this.validity).forEach((function(t){e.$root.$on("".concat(t,"-error"),(function(){e.validity[t]=!1})),e.$root.$on("".concat(t,"-valid"),(function(){e.validity[t]=!0})),e.$root.$on("".concat(t,"-value"),(function(r){e.formData[t]=r}))}))},methods:{submitForm:function(){var e=this;this.validateForm()&&coeliac().request().post("/api/wheretoeat/place-request",{name:this.formData.name,state:this.formData.state,comment:this.formData.comment}).then((function(t){if(200===t.status)return Object.keys(e.validity).forEach((function(t){e.formData[t]="",e.$root.$emit("".concat(t,"-reset"))})),void coeliac().success("Thank you for your request, we'll check it out and add them to our eating out guide!");coeliac().error("Sorry, there was an error submitting your request, please try again.")})).catch((function(){coeliac().error("Sorry, there was an error submitting your request, please try again.")}))},validateForm:function(){var e=this;Object.keys(this.validity).forEach((function(t){e.$root.$emit("".concat(t,"-get-value"))}));var t=!0;return Object.keys(this.validity).forEach((function(r){!1===e.validity[r]&&(t=!1)})),t}}};const i=(0,r(1900).Z)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"flex mt-2 flex-col"},[r("div",{staticClass:"mb-5 flex-1"},[r("form-input",{attrs:{required:"",name:"name",value:e.formData.name,placeholder:"Your name..."}})],1),e._v(" "),r("div",{staticClass:"mb-5 flex-1"},[r("form-select",{attrs:{required:"",name:"state",value:e.formData.state,options:e.stateOptions}})],1),e._v(" "),r("div",{staticClass:"mb-5 flex-1"},[r("form-textarea",{attrs:{required:"",name:"comment",value:e.formData.comment,rows:10,placeholder:"Your comment..."}})],1)]),e._v(" "),r("button",{staticClass:"mt-2 bg-blue-50 border border-blue rounded-lg px-6 py-2 text-xl text-black transition-bg hover:bg-blue-20",on:{click:function(t){return t.preventDefault(),e.submitForm()}}},[e._v("\n        Submit Comment\n    ")])])}),[],!1,null,null,null).exports}}]);