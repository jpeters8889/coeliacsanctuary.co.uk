(self.webpackChunk=self.webpackChunk||[]).push([[946],{1560:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a={methods:{formatPrice:function(t){return t=(t/100).toFixed(2),"&pound;".concat(t)}}}},9081:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a={methods:{googleEvent:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.gtag&&window.gtag(t,e,s)}}}},8504:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>n});var a=s(1560),o=s(9081);const i={mixins:[a.Z,o.Z],data:function(){return{showBasket:!1,data:{items:[],subtotal:0}}},mounted:function(){var t=this;this.getData(),this.$root.$on("show-basket",(function(){t.showBasket=!0})),this.$root.$on("product-updated",(function(){t.getData()}))},methods:{getData:function(){var t=this;coeliac().request().get("/api/shop/basket/summary").then((function(e){t.googleEvent("event","checkout-progress",{event_category:"opened-basket-sidebar"}),200!==e.status?t.data={items:[],subtotal:0}:t.$set(t,"data",e.data)})).catch((function(){t.data={items:[],subtotal:0}}))}},watch:{showBasket:function(t){if(t)return document.querySelector("body").classList.add("overflow-hidden"),void this.getData();document.querySelector("body").classList.remove("overflow-hidden")}}};const n=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showBasket?s("div",{staticClass:"w-11/12 h-full right-0 top-0 bg-blue-light p-3 shadow-basket-sidebar fixed z-max max-w-basket-sidebar"},[s("div",{staticClass:"relative flex flex-col h-full"},[s("div",{staticClass:"absolute right-0 top-0 text-xl cursor-pointer",on:{click:function(e){t.showBasket=!t.showBasket}}},[s("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1),t._v(" "),t.data.items.length>0?[s("div",{staticClass:"flex flex-col h-full"},[s("div",{staticClass:"flex-1 scrollable"},[s("table",{staticClass:"font-semibold"},[t._l(t.data.items,(function(e){return[s("tr",[s("td",{attrs:{colspan:"2"}},[t._v("\n                                    "+t._s(e.product.title)+" "),""!==e.variant.title?s("span",[t._v("("+t._s(e.variant.title)+")")]):t._e()])]),t._v(" "),s("tr",{staticClass:"text-xl"},[s("td",[s("basket-quantity-swticher",{attrs:{quantity:e.quantity,"product-id":e.product.id,"variant-id":e.variant.id}})],1),t._v(" "),s("td",{staticClass:"text-right",domProps:{innerHTML:t._s(t.formatPrice(e.subtotal))}})])]}))],2)]),t._v(" "),s("div",[s("table",{staticClass:"font-semibold"},[s("tr",{staticClass:"text-xl"},[s("td",[t._v("Subtotal")]),t._v(" "),s("td",{staticClass:"text-right",domProps:{innerHTML:t._s(t.formatPrice(t.data.subtotal))}})]),t._v(" "),t._m(0),t._v(" "),t._m(1)])])])]:[s("p",[t._v("We couldn't find any items in your basket...")])]],2)]):t._e()}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticClass:"text-xs font-normal text-center leading-tight",attrs:{colspan:"2"}},[t._v("\n                                Postage and Discount codes are calculated at checkout.\n                            ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{colspan:"2"}},[s("a",{staticClass:"block bg-yellow rounded-lg p-2 w-full text-center",attrs:{href:"/shop/basket"}},[t._v("\n                                    Checkout\n                                ")])])])}],!1,null,null,null).exports}}]);